<html>
  <%- include("../components/head.ejs") %>
  <body>
    <div class="uk-container uk-container-large"><%- include("../components/nav.ejs") %></div>
    <div
      class="uk-background-cover uk-background-muted uk-height-medium uk-width-large uk-flex uk-flex-center uk-flex-middle"
      style="
        background-image: url(../../public/imgs/callus.jpg);
        width: 100%;
        height: 400px;
        background-position: center;
        position: relative;
        z-index: -1;
      "
    >
      <div class="uk-overlay-default uk-position-cover" style="background: rgba(0, 0, 0, 0.3)"></div>
    </div>
    <div class="uk-container uk-container-large">
      <article class="uk-article uk-text-right" style="direction: rtl; margin-bottom: 10px">
        <div class="container-data-form">
          <h4 class="uk-text-primary uk-text-center">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„</h4>
          <div>
            <span uk-icon="icon: home; ratio: 1"></span>
            <p>ğŸ‡¸ğŸ‡¦1ï¸âƒ£ğŸ“the locationğŸ‘‡ğŸ»<br>
              https://maps.app.goo.gl/Yz5FPNjczKLpEbqg7 <br>
              Office of Executive Management<br>
              Operations in the Western region<br>
              King,s Road Tower<br>
              King Abdul Aziz Road,<br>
              Level 26 | Jeddah, SA</p>
          </div>
          <div>
            <span uk-icon="icon: home; ratio: 1"></span>
            <p>ğŸ‡¸ğŸ‡¦2ï¸âƒ£ğŸ“the locationğŸ‘‡ğŸ»<br>
              <a href="https://maps.app.goo.gl/Cs9XPwpQG1t5yHDD8" target="_blank">https://maps.app.goo.gl/Cs9XPwpQG1t5yHDD8</a> <br>
              Office of Executive Management<br>
              Operations in the Eastern Region<br>
              & Middle East, Asia<br>
              and North Africa<br>
              Khobar Gate Tower,<br>
              King Fahd Road,<br>
              Level 21 | Khobar, SA</p>
          </div>
          <div>
            <span uk-icon="icon: home; ratio: 1"></span>
            <p>ğŸ‡¸ğŸ‡¦3ï¸âƒ£ğŸ“the locationğŸ‘‡ğŸ»<br>
              <a href="https://maps.app.goo.gl/ViBUuyzLMSnaooLK8" target="_blank">https://maps.app.goo.gl/ViBUuyzLMSnaooLK8</a> <br>
              Al Faisaliah Tower,<br>
              King Fahd Road, Olaya District,<br>
              Level 18 | Riyadh, SA</p>
          </div>
          <div>
            <span uk-icon="icon: home; ratio: 1"></span>
            <p>ğŸ”œ Opening soon<br>
              ğŸ‡¦ğŸ‡ªğŸ“United Arab Emirates<br>
              the locationğŸ‘‡ğŸ»<br>
              <a href="https://maps.app.goo.gl/Nv9JcAtKBSK1fPDX9" target="_blank">https://maps.app.goo.gl/Nv9JcAtKBSK1fPDX9</a> <br>
              Emirates Towers<br>
              Sheikh Zayed Road,<br>
              Levels 41 & 42, | Dubai, AE</p>
          </div>
          <div>
            <span uk-icon="icon: home; ratio: 1"></span>
            <p>Head office :<br>
              Family Way Â®ï¸ Global Group<br>
              ğŸ‡«ğŸ‡·ğŸ“the locationğŸ‘‡ğŸ»<br>
              <a href="https://maps.app.goo.gl/Pfqqgw21nWwha5nV8" target="_blank">https://maps.app.goo.gl/Pfqqgw21nWwha5nV8</a> <br>
              10 Avenue Kleber, <br>
              Ground floor - 6th floor,<br>
              | Paris, France</p>
          </div>
          <div>
            <span uk-icon="icon: phone; ratio: 1"></span>
            <p><a href="tel:+966138080525">00966138080525</a></p>
          </div>
          <div>
            <span uk-icon="icon: phone; ratio: 1"></span>
            <p><a href="tel:+966539252225">00966539252225</a></p>
          </div>
          <div>
            <span uk-icon="icon: phone; ratio: 1"></span>
            <p><a href="tel:+966598455558">00966598455558</a></p>
          </div>
          <div>
            <span uk-icon="icon: social; ratio: 1"></span>
            <p><a href="mailto:nfo@familyway.com.sa">info@familyway.com.sa</a></p>
          </div>
          <div>
            <span uk-icon="icon: social; ratio: 1"></span>
            <p><a href="mailto:info@familywaygroup.com">info@familywaygroup.com</a></p>
          </div>
        </div>
        <hr class="uk-divider-icon" />
      </article>
      <article class="uk-article uk-text-right" style="direction: rtl; margin-top: 20px">
        <form class="uk-grid-small" uk-grid onsubmit="prev(event)">
          <div class="container-input uk-width-1-2@s uk-width-1-1@m">
            <label class="uk-form-label" for="form-stacked-text">Ø§Ù„Ø£Ø³Ù…</label>
            <input class="uk-input" type="text" placeholder="Ø§Ø¯Ø®Ù„ Ø§Ù„Ø£Ø³Ù… Ù‡Ù†Ø§" id="formName" />
          </div>
          <div class="container-input uk-width-1-2@s uk-width-1-1@m">
            <label class="uk-form-label" for="form-stacked-text">Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„</label>
            <input class="uk-input" type="text" placeholder="Ø§Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ Ù‡Ù†Ø§" id="formPhone" />
          </div>
          <div class="container-input uk-width-1-1@s">
            <label class="uk-form-label" for="form-stacked-text">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø£Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
            <input class="uk-input" type="text" placeholder="Ø§Ø¯Ø®Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø£Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù‡Ù†Ø§" id="formEmail" />
          </div>
          <div class="container-input uk-width-1-1@s">
            <label class="uk-form-label" for="form-stacked-text">Ø±Ø³Ø§Ù„ØªÙƒ</label>
            <textarea class="uk-textarea" rows="5" placeholder="Ø§Ø¯Ø®Ù„ Ù†Øµ Ø§Ù„Ø±Ø³Ø§Ù„Ù‡ Ù‡Ù†Ø§" id="formTextArea"></textarea>
          </div>
          <button
            class="uk-button uk-button-primary uk-width-1-1 uk-margin-small-bottom"
            onclick="sendMessageToAdmin()"
          >
            Ø§Ø±Ø³Ø§Ù„
          </button>
        </form>
      </article>
    </div>

    <%- include("../components/footer") %>
    <script src="https://cdn.jsdelivr.net/npm/axios@0.21.1/dist/axios.min.js"></script>
    <script>
      const sendMessageToAdmin = async (e) => {
        // declare
        let name = document.getElementById('formName').value;
        let phone = document.getElementById('formPhone').value;
        let emailAddress = document.getElementById('formEmail').value;
        let message = document.getElementById('formTextArea').value;

        phone = ~~phone;

        console.log(name, phone, emailAddress, message);

        if (!name || !phone || !emailAddress || !message) {
          return UIkit.notification({ message: 'ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ§Ù…Ù„Ù‡', status: 'danger' });
        }

        if (!Number.isInteger(phone)) {
          return UIkit.notification({ message: 'Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø¯Ø®Ù„ Ø§Ø±Ù‚Ø§Ù… Ø¬ÙˆØ§Ù„', status: 'danger' });
        }

        function ValidateEmail(mail) {
          if (/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(mail)) {
            return true;
          }
          return false;
        }

        if (!ValidateEmail(emailAddress)) {
          return UIkit.notification({ message: 'Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯ ØµØ­ÙŠØ­', status: 'danger' });
        }

        const returnForm = () => {
          document.querySelector('.uk-grid-small').reset();
        };

        try {
          const res = await axios.post('http://192.168.1.2:8080/api/user/mail', {
            name,
            phone,
            emailAddress,
            message
          });
          returnForm();
          return UIkit.notification({ message: 'ØªÙ… Ø§Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­', status: 'success' });
        } catch (e) {
          console.log(e);
          return UIkit.notification({ message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ù…Ø§', status: 'success' });
        }
      };

      const prev = (e) => {
        e.preventDefault();
        return false;
      };
    </script>
  </body>
  <%- include("../components/libs.ejs") %>
</html>
